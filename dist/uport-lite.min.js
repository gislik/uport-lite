/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 @license  MIT
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(f,e,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[e]=l.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(f,e,l,g){if(e){l=$jscomp.global;f=f.split(".");for(g=0;g<f.length-1;g++){var k=f[g];k in l||(l[k]={});l=l[k]}f=f[f.length-1];g=l[f];e=e(g);e!=g&&null!=e&&$jscomp.defineProperty(l,f,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.fill",function(f){return f?f:function(e,l,g){var k=this.length||0;0>l&&(l=Math.max(0,k+l));if(null==g||g>k)g=k;g=Number(g);0>g&&(g=Math.max(0,k+g));for(l=Number(l||0);l<g;l++)this[l]=e;return this}},"es6-impl","es3");
$jscomp.owns=function(f,e){return Object.prototype.hasOwnProperty.call(f,e)};$jscomp.polyfill("Object.assign",function(f){return f?f:function(e,l){for(var g=1;g<arguments.length;g++){var k=arguments[g];if(k)for(var p in k)$jscomp.owns(k,p)&&(e[p]=k[p])}return e}},"es6-impl","es3");
(function(f,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define("UportLite",[],e):"object"===typeof exports?exports.UportLite=e():f.UportLite=e()})(this,function(){return function(f){function e(g){if(l[g])return l[g].exports;var k=l[g]={i:g,l:!1,exports:{}};f[g].call(k.exports,k,k.exports,e);k.l=!0;return k.exports}var l={};e.m=f;e.c=l;e.i=function(g){return g};e.d=function(g,k,p){e.o(g,k)||Object.defineProperty(g,k,{configurable:!1,
enumerable:!0,get:p})};e.n=function(g){var k=g&&g.__esModule?function(){return g["default"]}:function(){return g};e.d(k,"a",k);return k};e.o=function(g,k){return Object.prototype.hasOwnProperty.call(g,k)};e.p="";return e(e.s=7)}([function(f,e,l){(function(g){f.exports=function(k){function e(m){if(0===m.length)return g.allocUnsafe(0);for(var e=[0],k=0;k<m.length;k++){var n=c[m[k]];if(void 0===n)return;for(var f=0;f<e.length;++f)n+=e[f]*l,e[f]=n&255,n>>=8;for(;0<n;)e.push(n&255),n>>=8}for(k=0;m[k]===
u&&k<m.length-1;++k)e.push(0);return g.from(e.reverse())}for(var c={},l=k.length,u=k.charAt(0),n=0;n<k.length;n++){var f=k.charAt(n);if(void 0!==c[f])throw new TypeError(f+" is ambiguous");c[f]=n}return{encode:function(c){if(0===c.length)return"";for(var g=[0],e=0;e<c.length;++e){for(var n=0,m=c[e];n<g.length;++n)m+=g[n]<<8,g[n]=m%l,m=m/l|0;for(;0<m;)g.push(m%l),m=m/l|0}e="";for(n=0;0===c[n]&&n<c.length-1;++n)e+=k[0];for(c=g.length-1;0<=c;--c)e+=k[g[c]];return e},decodeUnsafe:e,decode:function(c){if(c=
e(c))return c;throw Error("Non-base"+l+" character");}}}}).call(e,l(5).Buffer)},function(f,e){},function(f,e,l){function g(c){var g=c.length;if(0<g%4)throw Error("Invalid string. Length must be a multiple of 4");return"\x3d"===c[g-2]?2:"\x3d"===c[g-1]?1:0}function k(c,g,e){for(var m=[],k=g;k<e;k+=3)g=(c[k]<<16)+(c[k+1]<<8)+c[k+2],m.push(p[g>>18&63]+p[g>>12&63]+p[g>>6&63]+p[g&63]);return m.join("")}e.byteLength=function(c){return 3*c.length/4-g(c)};e.toByteArray=function(e){var k,f,m,l,p;k=e.length;
l=g(e);p=new q(3*k/4-l);f=0<l?k-4:k;var u=0;for(k=0;k<f;k+=4)m=c[e.charCodeAt(k)]<<18|c[e.charCodeAt(k+1)]<<12|c[e.charCodeAt(k+2)]<<6|c[e.charCodeAt(k+3)],p[u++]=m>>16&255,p[u++]=m>>8&255,p[u++]=m&255;2===l?(m=c[e.charCodeAt(k)]<<2|c[e.charCodeAt(k+1)]>>4,p[u++]=m&255):1===l&&(m=c[e.charCodeAt(k)]<<10|c[e.charCodeAt(k+1)]<<4|c[e.charCodeAt(k+2)]>>2,p[u++]=m>>8&255,p[u++]=m&255);return p};e.fromByteArray=function(c){for(var g=c.length,e=g%3,m="",l=[],f=0,q=g-e;f<q;f+=16383)l.push(k(c,f,f+16383>q?
q:f+16383));1===e?(c=c[g-1],m+=p[c>>2],m+=p[c<<4&63],m+="\x3d\x3d"):2===e&&(c=(c[g-2]<<8)+c[g-1],m+=p[c>>10],m+=p[c>>4&63],m+=p[c<<2&63],m+="\x3d");l.push(m);return l.join("")};var p=[],c=[],q="undefined"!==typeof Uint8Array?Uint8Array:Array;for(f=0;64>f;++f)p[f]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f],c["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(f)]=f;c[45]=62;c[95]=63},function(f,e){e.read=function(e,g,k,f,c){var l;l=8*c-f-1;var p=
(1<<l)-1,n=p>>1,v=-7;c=k?c-1:0;var m=k?-1:1,x=e[g+c];c+=m;k=x&(1<<-v)-1;x>>=-v;for(v+=l;0<v;k=256*k+e[g+c],c+=m,v-=8);l=k&(1<<-v)-1;k>>=-v;for(v+=f;0<v;l=256*l+e[g+c],c+=m,v-=8);if(0===k)k=1-n;else{if(k===p)return l?NaN:Infinity*(x?-1:1);l+=Math.pow(2,f);k-=n}return(x?-1:1)*l*Math.pow(2,k-f)};e.write=function(e,g,k,f,c,q){var l,n=8*q-c-1,p=(1<<n)-1,m=p>>1,x=23===c?Math.pow(2,-24)-Math.pow(2,-77):0;q=f?0:q-1;var y=f?1:-1,A=0>g||0===g&&0>1/g?1:0;g=Math.abs(g);isNaN(g)||Infinity===g?(g=isNaN(g)?1:0,
f=p):(f=Math.floor(Math.log(g)/Math.LN2),1>g*(l=Math.pow(2,-f))&&(f--,l*=2),g=1<=f+m?g+x/l:g+x*Math.pow(2,1-m),2<=g*l&&(f++,l/=2),f+m>=p?(g=0,f=p):1<=f+m?(g=(g*l-1)*Math.pow(2,c),f+=m):(g=g*Math.pow(2,m-1)*Math.pow(2,c),f=0));for(;8<=c;e[k+q]=g&255,q+=y,g/=256,c-=8);f=f<<c|g;for(n+=c;0<n;e[k+q]=f&255,q+=y,f/=256,n-=8);e[k+q-y]|=128*A}},function(f,e){var l={}.toString;f.exports=Array.isArray||function(g){return"[object Array]"==l.call(g)}},function(f,e,l){(function(g){function k(){try{var a=new Uint8Array(1);
a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()&&"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(b){return!1}}function f(a,b){if((c.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");c.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=c.prototype):(null===a&&(a=new c(b)),a.length=b);return a}function c(a,b,d){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(a,b,d);if("number"===
typeof a){if("string"===typeof b)throw Error("If encoding is specified then the first argument must be a string");return n(this,a)}return q(this,a,b,d)}function q(a,b,d,h){if("number"===typeof b)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&b instanceof ArrayBuffer){b.byteLength;if(0>d||b.byteLength<d)throw new RangeError("'offset' is out of bounds");if(b.byteLength<d+(h||0))throw new RangeError("'length' is out of bounds");b=void 0===d&&void 0===
h?new Uint8Array(b):void 0===h?new Uint8Array(b,d):new Uint8Array(b,d,h);c.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=c.prototype):a=v(a,b);return a}if("string"===typeof b){h=a;a=d;if("string"!==typeof a||""===a)a="utf8";if(!c.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');d=y(b,a)|0;h=f(h,d);b=h.write(b,a);b!==d&&(h=h.slice(0,b));return h}return m(a,b)}function u(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');
}function n(a,b){u(b);a=f(a,0>b?0:x(b)|0);if(!c.TYPED_ARRAY_SUPPORT)for(var d=0;d<b;++d)a[d]=0;return a}function v(a,b){var d=0>b.length?0:x(b.length)|0;a=f(a,d);for(var h=0;h<d;h+=1)a[h]=b[h]&255;return a}function m(a,b){if(c.isBuffer(b)){var d=x(b.length)|0;a=f(a,d);if(0===a.length)return a;b.copy(a,0,0,d);return a}if(b){if("undefined"!==typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return(d="number"!==typeof b.length)||(d=b.length,d=d!==d),d?f(a,0):v(a,b);if("Buffer"===b.type&&
K(b.data))return v(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function x(a){if(a>=(c.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(c.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function y(a,b){if(c.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||
a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var d=a.length;if(0===d)return 0;for(var h=!1;;)switch(b){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":case void 0:return F(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*d;case "hex":return d>>>1;case "base64":return G.toByteArray(L(a)).length;default:if(h)return F(a).length;b=(""+b).toLowerCase();h=!0}}function A(a,b,d){var h=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";
if(void 0===d||d>this.length)d=this.length;if(0>=d)return"";d>>>=0;b>>>=0;if(d<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=d;d=this.length;if(!a||0>a)a=0;if(!b||0>b||b>d)b=d;h="";for(d=a;d<b;++d)a=h,h=this[d],h=16>h?"0"+h.toString(16):h.toString(16),h=a+h;return h;case "utf8":case "utf-8":return B(this,b,d);case "ascii":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(this[b]&127);return a;case "latin1":case "binary":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(this[b]);
return a;case "base64":return b=0===b&&d===this.length?G.fromByteArray(this):G.fromByteArray(this.slice(b,d)),b;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,d);d="";for(a=0;a<b.length;a+=2)d+=String.fromCharCode(b[a]+256*b[a+1]);return d;default:if(h)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();h=!0}}function w(a,b,d){var h=a[b];a[b]=a[d];a[d]=h}function D(a,b,d,h,z){if(0===a.length)return-1;"string"===typeof d?(h=d,d=0):2147483647<d?d=2147483647:-2147483648>
d&&(d=-2147483648);d=+d;isNaN(d)&&(d=z?0:a.length-1);0>d&&(d=a.length+d);if(d>=a.length){if(z)return-1;d=a.length-1}else if(0>d)if(z)d=0;else return-1;"string"===typeof b&&(b=c.from(b,h));if(c.isBuffer(b))return 0===b.length?-1:H(a,b,d,h,z);if("number"===typeof b)return b&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?z?Uint8Array.prototype.indexOf.call(a,b,d):Uint8Array.prototype.lastIndexOf.call(a,b,d):H(a,[b],d,h,z);throw new TypeError("val must be string, number or Buffer");
}function H(a,b,d,h,c){function z(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,e=a.length,f=b.length;if(void 0!==h&&(h=String(h).toLowerCase(),"ucs2"===h||"ucs-2"===h||"utf16le"===h||"utf-16le"===h)){if(2>a.length||2>b.length)return-1;g=2;e/=2;f/=2;d/=2}if(c)for(h=-1;d<e;d++)if(z(a,d)===z(b,-1===h?0:d-h)){if(-1===h&&(h=d),d-h+1===f)return h*g}else-1!==h&&(d-=d-h),h=-1;else for(d+f>e&&(d=e-f);0<=d;d--){e=!0;for(h=0;h<f;h++)if(z(a,d+h)!==z(b,h)){e=!1;break}if(e)return d}return-1}function B(a,
b,d){d=Math.min(a.length,d);for(var h=[];b<d;){var c=a[b],e=null,g=239<c?4:223<c?3:191<c?2:1;if(b+g<=d){var f,k,l;switch(g){case 1:128>c&&(e=c);break;case 2:f=a[b+1];128===(f&192)&&(c=(c&31)<<6|f&63,127<c&&(e=c));break;case 3:f=a[b+1];k=a[b+2];128===(f&192)&&128===(k&192)&&(c=(c&15)<<12|(f&63)<<6|k&63,2047<c&&(55296>c||57343<c)&&(e=c));break;case 4:f=a[b+1],k=a[b+2],l=a[b+3],128===(f&192)&&128===(k&192)&&128===(l&192)&&(c=(c&15)<<18|(f&63)<<12|(k&63)<<6|l&63,65535<c&&1114112>c&&(e=c))}}null===e?(e=
65533,g=1):65535<e&&(e-=65536,h.push(e>>>10&1023|55296),e=56320|e&1023);h.push(e);b+=g}a=h.length;if(a<=M)h=String.fromCharCode.apply(String,h);else{d="";for(b=0;b<a;)d+=String.fromCharCode.apply(String,h.slice(b,b+=M));h=d}return h}function r(a,b,d){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>d)throw new RangeError("Trying to access beyond buffer length");}function t(a,b,d,h,e,f){if(!c.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<
f)throw new RangeError('"value" argument is out of bounds');if(d+h>a.length)throw new RangeError("Index out of range");}function I(a,b,d,h){0>b&&(b=65535+b+1);for(var c=0,e=Math.min(a.length-d,2);c<e;++c)a[d+c]=(b&255<<8*(h?c:1-c))>>>8*(h?c:1-c)}function J(a,b,d,h){0>b&&(b=4294967295+b+1);for(var c=0,e=Math.min(a.length-d,4);c<e;++c)a[d+c]=b>>>8*(h?c:3-c)&255}function N(a,b,d,c,e,f){if(d+c>a.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");}function O(a,
b,d,c,e){e||N(a,b,d,4,3.4028234663852886e+38,-3.4028234663852886e+38);C.write(a,b,d,c,23,4);return d+4}function P(a,b,d,c,e){e||N(a,b,d,8,1.7976931348623157e+308,-1.7976931348623157e+308);C.write(a,b,d,c,52,8);return d+8}function L(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(R,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="\x3d";return a}function F(a,b){b=b||Infinity;for(var d,c=a.length,e=null,f=[],g=0;g<c;++g){d=a.charCodeAt(g);if(55295<d&&57344>d){if(!e){if(56319<d){-1<(b-=
3)&&f.push(239,191,189);continue}else if(g+1===c){-1<(b-=3)&&f.push(239,191,189);continue}e=d;continue}if(56320>d){-1<(b-=3)&&f.push(239,191,189);e=d;continue}d=(e-55296<<10|d-56320)+65536}else e&&-1<(b-=3)&&f.push(239,191,189);e=null;if(128>d){if(0>--b)break;f.push(d)}else if(2048>d){if(0>(b-=2))break;f.push(d>>6|192,d&63|128)}else if(65536>d){if(0>(b-=3))break;f.push(d>>12|224,d>>6&63|128,d&63|128)}else if(1114112>d){if(0>(b-=4))break;f.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw Error("Invalid code point");
}return f}function Q(a){for(var b=[],d=0;d<a.length;++d)b.push(a.charCodeAt(d)&255);return b}function E(a,b,d,c){for(var h=0;h<c&&!(h+d>=b.length||h>=a.length);++h)b[h+d]=a[h];return h}var G=l(2),C=l(3),K=l(4);e.Buffer=c;e.SlowBuffer=function(a){+a!=a&&(a=0);return c.alloc(+a)};e.INSPECT_MAX_BYTES=50;c.TYPED_ARRAY_SUPPORT=void 0!==g.TYPED_ARRAY_SUPPORT?g.TYPED_ARRAY_SUPPORT:k();e.kMaxLength=c.TYPED_ARRAY_SUPPORT?2147483647:1073741823;c.poolSize=8192;c._augment=function(a){a.__proto__=c.prototype;
return a};c.from=function(a,b,d){return q(null,a,b,d)};c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}));c.alloc=function(a,b,d){u(a);a=0>=a?f(null,a):void 0!==b?"string"===typeof d?f(null,a).fill(b,d):f(null,a).fill(b):f(null,a);return a};c.allocUnsafe=function(a){return n(null,a)};c.allocUnsafeSlow=function(a){return n(null,
a)};c.isBuffer=function(a){return!(null==a||!a._isBuffer)};c.compare=function(a,b){if(!c.isBuffer(a)||!c.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var d=a.length,h=b.length,e=0,f=Math.min(d,h);e<f;++e)if(a[e]!==b[e]){d=a[e];h=b[e];break}return d<h?-1:h<d?1:0};c.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};c.concat=function(a,b){if(!K(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return c.alloc(0);var d;if(void 0===b)for(d=b=0;d<a.length;++d)b+=a[d].length;b=c.allocUnsafe(b);var h=0;for(d=0;d<a.length;++d){var e=a[d];if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(b,h);h+=e.length}return b};c.byteLength=y;c.prototype._isBuffer=!0;c.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var b=0;b<a;b+=2)w(this,b,b+1);return this};c.prototype.swap32=function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)w(this,b,b+3),w(this,b+1,b+2);return this};c.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)w(this,b,b+7),w(this,b+1,b+6),w(this,b+2,b+5),w(this,b+3,b+4);return this};c.prototype.toString=function(){var a=this.length|
0;return 0===a?"":0===arguments.length?B(this,0,a):A.apply(this,arguments)};c.prototype.equals=function(a){if(!c.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===c.compare(this,a)};c.prototype.inspect=function(){var a="",b=e.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"\x3cBuffer "+a+"\x3e"};c.prototype.compare=function(a,b,d,h,e){if(!c.isBuffer(a))throw new TypeError("Argument must be a Buffer");
void 0===b&&(b=0);void 0===d&&(d=a?a.length:0);void 0===h&&(h=0);void 0===e&&(e=this.length);if(0>b||d>a.length||0>h||e>this.length)throw new RangeError("out of range index");if(h>=e&&b>=d)return 0;if(h>=e)return-1;if(b>=d)return 1;b>>>=0;d>>>=0;h>>>=0;e>>>=0;if(this===a)return 0;var f=e-h,g=d-b,k=Math.min(f,g);h=this.slice(h,e);a=a.slice(b,d);for(b=0;b<k;++b)if(h[b]!==a[b]){f=h[b];g=a[b];break}return f<g?-1:g<f?1:0};c.prototype.includes=function(a,b,d){return-1!==this.indexOf(a,b,d)};c.prototype.indexOf=
function(a,b,d){return D(this,a,b,d,!0)};c.prototype.lastIndexOf=function(a,b,d){return D(this,a,b,d,!1)};c.prototype.write=function(a,b,d,c){if(void 0===b)c="utf8",d=this.length,b=0;else if(void 0===d&&"string"===typeof b)c=b,d=this.length,b=0;else if(isFinite(b))b|=0,isFinite(d)?(d|=0,void 0===c&&(c="utf8")):(c=d,d=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var h=this.length-b;if(void 0===d||d>h)d=h;if(0<a.length&&(0>d||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
c||(c="utf8");for(h=!1;;)switch(c){case "hex":a:{b=Number(b)||0;c=this.length-b;d?(d=Number(d),d>c&&(d=c)):d=c;c=a.length;if(0!==c%2)throw new TypeError("Invalid hex string");d>c/2&&(d=c/2);for(c=0;c<d;++c){h=parseInt(a.substr(2*c,2),16);if(isNaN(h)){a=c;break a}this[b+c]=h}a=c}return a;case "utf8":case "utf-8":return E(F(a,this.length-b),this,b,d);case "ascii":return E(Q(a),this,b,d);case "latin1":case "binary":return E(Q(a),this,b,d);case "base64":return E(G.toByteArray(L(a)),this,b,d);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var e;
c=a;for(var h=this.length-b,f=[],g=0;g<c.length&&!(0>(h-=2));++g)e=c.charCodeAt(g),a=e>>8,e%=256,f.push(e),f.push(a);return E(f,this,b,d);default:if(h)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase();h=!0}};c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;c.prototype.slice=function(a,b){var d=this.length;a=~~a;b=void 0===b?d:~~b;0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);0>b?(b+=d,0>b&&(b=0)):b>d&&(b=d);b<a&&(b=a);if(c.TYPED_ARRAY_SUPPORT)b=
this.subarray(a,b),b.__proto__=c.prototype;else{d=b-a;b=new c(d,void 0);for(var h=0;h<d;++h)b[h]=this[h+a]}return b};c.prototype.readUIntLE=function(a,b,d){a|=0;b|=0;d||r(a,b,this.length);d=this[a];for(var c=1,e=0;++e<b&&(c*=256);)d+=this[a+e]*c;return d};c.prototype.readUIntBE=function(a,b,d){a|=0;b|=0;d||r(a,b,this.length);d=this[a+--b];for(var c=1;0<b&&(c*=256);)d+=this[a+--b]*c;return d};c.prototype.readUInt8=function(a,b){b||r(a,1,this.length);return this[a]};c.prototype.readUInt16LE=function(a,
b){b||r(a,2,this.length);return this[a]|this[a+1]<<8};c.prototype.readUInt16BE=function(a,b){b||r(a,2,this.length);return this[a]<<8|this[a+1]};c.prototype.readUInt32LE=function(a,b){b||r(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};c.prototype.readUInt32BE=function(a,b){b||r(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};c.prototype.readIntLE=function(a,b,d){a|=0;b|=0;d||r(a,b,this.length);d=this[a];for(var c=1,e=0;++e<b&&(c*=256);)d+=
this[a+e]*c;d>=128*c&&(d-=Math.pow(2,8*b));return d};c.prototype.readIntBE=function(a,b,d){a|=0;b|=0;d||r(a,b,this.length);d=b;for(var c=1,e=this[a+--d];0<d&&(c*=256);)e+=this[a+--d]*c;e>=128*c&&(e-=Math.pow(2,8*b));return e};c.prototype.readInt8=function(a,b){b||r(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};c.prototype.readInt16LE=function(a,b){b||r(a,2,this.length);a=this[a]|this[a+1]<<8;return a&32768?a|4294901760:a};c.prototype.readInt16BE=function(a,b){b||r(a,2,this.length);
a=this[a+1]|this[a]<<8;return a&32768?a|4294901760:a};c.prototype.readInt32LE=function(a,b){b||r(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};c.prototype.readInt32BE=function(a,b){b||r(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};c.prototype.readFloatLE=function(a,b){b||r(a,4,this.length);return C.read(this,a,!0,23,4)};c.prototype.readFloatBE=function(a,b){b||r(a,4,this.length);return C.read(this,a,!1,23,4)};c.prototype.readDoubleLE=function(a,
b){b||r(a,8,this.length);return C.read(this,a,!0,52,8)};c.prototype.readDoubleBE=function(a,b){b||r(a,8,this.length);return C.read(this,a,!1,52,8)};c.prototype.writeUIntLE=function(a,b,d,c){a=+a;b|=0;d|=0;c||t(this,a,b,d,Math.pow(2,8*d)-1,0);c=1;var h=0;for(this[b]=a&255;++h<d&&(c*=256);)this[b+h]=a/c&255;return b+d};c.prototype.writeUIntBE=function(a,b,d,c){a=+a;b|=0;d|=0;c||t(this,a,b,d,Math.pow(2,8*d)-1,0);c=d-1;var h=1;for(this[b+c]=a&255;0<=--c&&(h*=256);)this[b+c]=a/h&255;return b+d};c.prototype.writeUInt8=
function(a,b,d){a=+a;b|=0;d||t(this,a,b,1,255,0);c.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[b]=a&255;return b+1};c.prototype.writeUInt16LE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,2,65535,0);c.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8):I(this,a,b,!0);return b+2};c.prototype.writeUInt16BE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,2,65535,0);c.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):I(this,a,b,!1);return b+2};c.prototype.writeUInt32LE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,4,4294967295,
0);c.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a&255):J(this,a,b,!0);return b+4};c.prototype.writeUInt32BE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,4,4294967295,0);c.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):J(this,a,b,!1);return b+4};c.prototype.writeIntLE=function(a,b,d,c){a=+a;b|=0;c||(c=Math.pow(2,8*d-1),t(this,a,b,d,c-1,-c));c=0;var h=1,e=0;for(this[b]=a&255;++c<d&&(h*=256);)0>a&&0===e&&0!==this[b+c-1]&&(e=1),this[b+
c]=(a/h>>0)-e&255;return b+d};c.prototype.writeIntBE=function(a,b,d,c){a=+a;b|=0;c||(c=Math.pow(2,8*d-1),t(this,a,b,d,c-1,-c));c=d-1;var e=1,h=0;for(this[b+c]=a&255;0<=--c&&(e*=256);)0>a&&0===h&&0!==this[b+c+1]&&(h=1),this[b+c]=(a/e>>0)-h&255;return b+d};c.prototype.writeInt8=function(a,b,d){a=+a;b|=0;d||t(this,a,b,1,127,-128);c.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a=255+a+1);this[b]=a&255;return b+1};c.prototype.writeInt16LE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,2,32767,-32768);c.TYPED_ARRAY_SUPPORT?
(this[b]=a&255,this[b+1]=a>>>8):I(this,a,b,!0);return b+2};c.prototype.writeInt16BE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,2,32767,-32768);c.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):I(this,a,b,!1);return b+2};c.prototype.writeInt32LE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,4,2147483647,-2147483648);c.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):J(this,a,b,!0);return b+4};c.prototype.writeInt32BE=function(a,b,d){a=+a;b|=0;d||t(this,a,b,4,2147483647,
-2147483648);0>a&&(a=4294967295+a+1);c.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):J(this,a,b,!1);return b+4};c.prototype.writeFloatLE=function(a,b,d){return O(this,a,b,!0,d)};c.prototype.writeFloatBE=function(a,b,d){return O(this,a,b,!1,d)};c.prototype.writeDoubleLE=function(a,b,d){return P(this,a,b,!0,d)};c.prototype.writeDoubleBE=function(a,b,d){return P(this,a,b,!1,d)};c.prototype.copy=function(a,b,d,e){d||(d=0);e||0===e||(e=this.length);b>=a.length&&
(b=a.length);b||(b=0);0<e&&e<d&&(e=d);if(e===d||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length);a.length-b<e-d&&(e=a.length-b+d);var h=e-d;if(this===a&&d<b&&b<e)for(e=h-1;0<=e;--e)a[e+b]=this[e+d];else if(1E3>h||!c.TYPED_ARRAY_SUPPORT)for(e=0;e<h;++e)a[e+b]=this[e+d];else Uint8Array.prototype.set.call(a,
this.subarray(d,d+h),b);return h};c.prototype.fill=function(a,b,d,e){if("string"===typeof a){"string"===typeof b?(e=b,b=0,d=this.length):"string"===typeof d&&(e=d,d=this.length);if(1===a.length){var h=a.charCodeAt(0);256>h&&(a=h)}if(void 0!==e&&"string"!==typeof e)throw new TypeError("encoding must be a string");if("string"===typeof e&&!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);}else"number"===typeof a&&(a&=255);if(0>b||this.length<b||this.length<d)throw new RangeError("Out of range index");
if(d<=b)return this;b>>>=0;d=void 0===d?this.length:d>>>0;a||(a=0);if("number"===typeof a)for(e=b;e<d;++e)this[e]=a;else for(a=c.isBuffer(a)?a:F((new c(a,e)).toString()),h=a.length,e=0;e<d-b;++e)this[e+b]=a[e%h];return this};var R=/[^+\/0-9A-Za-z-_]/g}).call(e,l(6))},function(f,e){e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(l){"object"===typeof window&&(e=window)}f.exports=e},function(f,e,l){function g(c,e){var f=new q,g=c||{};f.onreadystatechange=function(){if(4===
f.readyState&&1!==f.timeout)if(200!==f.status)e(Error("[uport-lite] status "+f.status+": "+f.responseText));else try{e(null,JSON.parse(f.responseText))}catch(y){e(Error("[uport-lite] while parsing data: '"+String(f.responseText)+"', error: "+String(y)))}};g.data?f.open("POST",c.uri):f.open("GET",c.uri);g.accept&&f.setRequestHeader("accept",g.accept);g.data?(f.setRequestHeader("Content-Type","application/json"),f.send(JSON.stringify(g.data))):f.send()}function k(e){var f=p.decode(e),g=f.length-24;
e=f.slice(1,g);f=f.slice(g,20+g);return{network:"0x"+c.encode(e),address:"0x"+c.encode(f)}}var p=l(0)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),c=l(0)("0123456789abcdef"),q="undefined"!==typeof window?window.XMLHttpRequest:l(1).XMLHttpRequest,u={"0x1":{registry:"0xab5c8051b9a1df1aab0149f8b0630848b7ecabf6",rpcUrl:"https://mainnet.infura.io"},"0x3":{registry:"0x41566e3a081f5032bdcad470adb797635ddfe1f0",rpcUrl:"https://ropsten.infura.io"},"0x2a":{registry:"0x5f8e9351dc2d238fb878b6ae43aa740d62fc9758",
rpcUrl:"https://kovan.infura.io"}};f.exports=function(){function e(c,e){return c.split("").map(function(c){return("0"+c.charCodeAt(0).toString(16)).slice(-2)}).join(e||"")}function f(c,e,f){return"undefined"===typeof e?c:f?(c+e).slice(-c.length):(e+c).substring(0,c.length)}function l(c,g,k,l){c+=f("0000000000000000000000000000000000000000000000000000000000000000",e(g));c+=f("0000000000000000000000000000000000000000000000000000000000000000",k.slice(2),!0);return c+=f("0000000000000000000000000000000000000000000000000000000000000000",
l.slice(2),!0)}function q(e,f){var k="https://ropsten.infura.io/"+D;return e?g({uri:k,accept:"application/json",data:{method:"eth_call",params:[{to:"0xb9C1598e24650437a3055F7f66AC1820c419a679",data:"0x446d5aa4000000000000000000000000"+e.slice(2)},"latest"],id:1,jsonrpc:"2.0"}},function(e,g){if(e)return f(e);if(g.error)return f(g.error);e=g.result.slice(130).slice(0,68);return f(null,p.encode(c.decode(e)))}):f(null)}function y(e,f,m,n){f=k(f);var r=k(m);if(f.network!==r.network)throw Error("Issuer and subject must be on the same network");
if(!B[f.network])throw Error("Network id "+f.network+" is not configured");m=B[f.network].rpcUrl;var t=B[f.network].registry;e=l("0x447885f0",e,f.address,r.address);return g({uri:m+"/"+D,accept:"application/json",data:{method:"eth_call",params:[{to:t,data:e},"latest"],id:1,jsonrpc:"2.0"}},function(e,f){return e?n(e):f.error?n(f.error):0==f.result?n(e):n(null,p.encode(c.decode("1220"+f.result.slice(2))))})}function A(c,e){return c&&"0x"!==c?g({uri:""+H+c},e):e()}var w=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},D=w.infuraKey||"uport-lite-library",H=w.ipfsGw||"https://ipfs.infura.io/ipfs/",B=w.networks?Object.assign({},u,w.networks):u;return function(c,e,f){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"uPortProfileIPFS1220";if(!c)return e(null);var k=f||c;return c.match(/0x[0-9a-fA-F]{40}/)?q(c,function(c,f){if(c)return e(c);A(f,e)}):y(g,c,k,function(c,f){if(c)return e(c);A(f,e)})}}}])});
